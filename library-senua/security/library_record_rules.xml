<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    
    <!-- Record Rule: Books by Company -->
    <record id="library_book_company_rule" model="ir.rule">
        <field name="name">Books: Multi-company</field>
        <field name="model_id" ref="model_library_book"/>
        <!-- Only shows registers of the company of the current user -->
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>
    
    <!-- Record Rule: Loans by Company -->
    <record id="library_loan_company_rule" model="ir.rule">
        <field name="name">Loans: Multi-company</field>
        <field name="model_id" ref="model_library_loan"/>
        <!-- Only shows registers of the company of the current user -->
        <field name="domain_force">[('book_id.company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>
    
    <!-- Record Rule: Editions by Company -->
    <record id="library_edition_company_rule" model="ir.rule">
        <field name="name">Editions: Multi-company</field>
        <field name="model_id" ref="model_library_edition"/>
        <!-- Only shows registers of the company of the current user -->
        <field name="domain_force">[('book_id.company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('base.group_user'))]"/>
    </record>

</odoo>